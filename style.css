/* General Styling & Font */
:root {
    --bg-color: #ececec;
    --window-bg: #f5f5f5;
    --border-color: #cccccc;
    --text-color: #333;
    --primary-blue: #007aff;
    --primary-red: #ff3b30;
    --primary-green: #34c759;
    --primary-yellow: #ffcc00;
    --dark-yellow: #b38f00; 
    --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

body {
    margin: 0;
    font-family: var(--font-family);
    background-color: var(--bg-color);
    color: var(--text-color);
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    overflow: hidden;
}

/* Window Style */
.window { width: 95vw; max-width: 1200px; height: 90vh; background-color: var(--window-bg); border: 1px solid var(--border-color); border-radius: 12px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; overflow: hidden; position: relative; }
.window-header { background: linear-gradient(to bottom, #e8e8e8, #dcdcdc); padding: 8px 12px; border-bottom: 1px solid var(--border-color); display: flex; align-items: center; user-select: none; flex-shrink: 0; }
.traffic-lights { display: flex; gap: 8px; }
.dot { width: 12px; height: 12px; border-radius: 50%; border: 1px solid rgba(0, 0, 0, 0.2); }
.dot.red { background-color: var(--primary-red); }
.dot.yellow { background-color: var(--primary-yellow); }
.dot.green { background-color: var(--primary-green); }
.window-title { flex-grow: 1; text-align: center; font-weight: 600; font-size: 14px; color: #555; }
.window-content { padding: 20px; flex-grow: 1; overflow-y: auto; display: flex; flex-direction: column; }

/* Forms and Inputs */
form { display: flex; flex-direction: column; gap: 15px; max-width: 500px; margin: 0 auto; }
.input-group { display: flex; flex-direction: column; }
.input-group label { margin-bottom: 5px; font-weight: 500; font-size: 14px; }
.input-group input[type="email"],
.input-group input[type="password"],
.input-group input[type="text"],
.input-group input[type="number"],
.input-group input[type="file"],
textarea { padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-size: 16px; font-family: var(--font-family); background-color: #fff; }
.input-group input:focus, textarea:focus { outline: none; border-color: var(--primary-blue); box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.3); }
.checkbox-group { flex-direction: row; align-items: center; gap: 10px; }
.checkbox-group input[type="checkbox"] { width: 18px; height: 18px; }

/* Buttons */
.btn { display: inline-flex; align-items: center; justify-content: center; padding: 10px 20px; font-size: 15px; font-weight: 500; border-radius: 6px; border: 1px solid var(--border-color); background-color: #fff; cursor: pointer; transition: background-color 0.2s ease, transform 0.1s ease; }
.btn:hover { background-color: #f0f0f0; }
.btn:active { transform: scale(0.98); }
.btn:disabled { background-color: #ccc !important; border-color: #ccc !important; color: #888 !important; cursor: not-allowed; }
.btn-primary { background-color: var(--primary-blue); color: white; border-color: var(--primary-blue); }
.btn-primary:hover:not(:disabled) { background-color: #0056b3; }
.btn-danger { background-color: var(--primary-red); color: white; border-color: var(--primary-red); }
.btn-danger:hover:not(:disabled) { background-color: #d63027; }
.btn-add { font-size: 24px; width: 50px; height: 50px; border-radius: 50%; margin-top: 20px; background-color: var(--primary-green); color: white; border: none; align-self: center; }
.btn-add:hover { background-color: #2b9d4a; }
.btn-delete-candidate { background: none; border: none; cursor: pointer; position: absolute; top: 8px; right: 8px; width: 24px; height: 24px; padding: 2px; opacity: 0.6; transition: opacity 0.2s; }
.btn-delete-candidate:hover { opacity: 1; }
.btn-delete-candidate svg { width: 100%; height: 100%; fill: var(--primary-red); }
.form-button-container { display: flex; justify-content: center; gap: 15px; margin-top: 10px; }
.error-message { color: var(--primary-red); text-align: center; min-height: 20px; }

/* Indikator Status Dot */
.status-dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; margin-right: 8px; transition: background-color 0.3s ease; }
#toggle-result-page-btn[data-status="nonaktif"] .status-dot,
#toggle-student-login-btn[data-status="nonaktif"] .status-dot { background-color: var(--primary-red); }
#toggle-result-page-btn[data-status="aktif"] .status-dot,
#toggle-student-login-btn[data-status="aktif"] .status-dot { background-color: var(--primary-blue); }

/* Photo Preview */
.photo-preview { width: 120px; height: 120px; border-radius: 8px; object-fit: cover; margin: 10px auto; display: block; border: 1px solid var(--border-color); background-color: #e0e0e0; }
.photo-upload-group input[type="file"] { max-width: 250px; margin: 0 auto; display: block; }

/* Candidate Cards */
.candidate-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }
.candidate-card { background-color: #fff; border: 1px solid var(--border-color); border-radius: 10px; padding: 15px; text-align: center; transition: box-shadow 0.2s ease, border-color 0.2s ease; position: relative; display: flex; flex-direction: column; }
.candidate-card.selected { border-color: var(--primary-blue); box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.3); }
.candidate-card.disabled { opacity: 0.5; pointer-events: none; background-color: #f9f9f9; }
.candidate-photo { width: 120px; height: 120px; object-fit: cover; margin: 0 auto 10px auto; background-color: #e0e0e0; }
.admin-candidate-card .candidate-photo { border-radius: 8px; cursor: pointer; transition: filter 0.2s ease; }
.admin-candidate-card .candidate-photo:hover { filter: brightness(0.9); }
.voter-candidate-list .candidate-photo { border-radius: 50%; }
.candidate-number { position: absolute; top: 10px; left: 10px; width: 30px; height: 30px; background-color: var(--primary-blue); color: white; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-weight: bold; }
.candidate-card h4 { margin: 10px 0 5px 0; }
.candidate-card p { font-size: 13px; color: #666; min-height: 60px; }
#voter-candidate-list .candidate-card h4 { color: var(--primary-blue); transition: color 0.2s ease-in-out; }
#voter-candidate-list .candidate-card.selected h4 { color: var(--dark-yellow); }

/* Admin Page Layout */
.admin-main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; flex-grow: 1; min-height: 0; }
.admin-left-column, .admin-right-column { display: flex; flex-direction: column; min-height: 0; }
.admin-controls { display: grid; grid-template-columns: 1fr; gap: 15px; }
.control-section { background: #e9e9e9; padding: 15px; border-radius: 8px; }
.control-section h3 { margin-top: 0; }
.control-section textarea, .control-section input { width: calc(100% - 22px); margin-bottom: 10px; }
.admin-candidate-card { text-align: left; cursor: grab; }
.admin-candidate-card:active { cursor: grabbing; }
.candidate-details { flex-grow: 1; }
.candidate-details textarea { width: 100%; height: 80px; margin-top: 5px; font-size: 12px; }
#active-broadcasts-list { max-height: 150px; overflow-y: auto; padding: 5px; border: 1px solid #ddd; border-radius: 6px; background-color: #f0f0f0; }
.empty-list-msg { color: #888; font-style: italic; font-size: 13px; text-align: center; padding: 10px; }
.broadcast-item { background-color: white; padding: 10px; border-radius: 6px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: flex-start; }
.broadcast-item-content h5 { margin: 0 0 5px 0; }
.broadcast-item-content p { margin: 0; font-size: 13px; word-break: break-word; }
.broadcast-item .btn-delete-broadcast { padding: 2px 5px; background: none; border: none; cursor: pointer; opacity: 0.7; flex-shrink: 0; margin-left: 10px; }
.broadcast-item .btn-delete-broadcast:hover { opacity: 1; }
.broadcast-item .btn-delete-broadcast svg { width: 18px; height: 18px; fill: var(--primary-red); }

/* Data Pemilih Table */
.voter-data-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.voter-data-header h3 { margin: 0; }
.voter-data-container { flex-grow: 1; overflow-y: auto; border: 1px solid var(--border-color); border-radius: 8px; background-color: #fff; }
#voter-data-table { width: 100%; border-collapse: collapse; }
#voter-data-table th, #voter-data-table td { padding: 8px; text-align: left; border-bottom: 1px solid var(--border-color); font-size: 13px; vertical-align: middle; }
#voter-data-table th { background-color: #f0f0f0; font-weight: 600; position: sticky; top: 0; }
#voter-data-table td img { width: 40px; height: 40px; object-fit: cover; border-radius: 50%; border: 1px solid var(--border-color); }
#no-voter-data-msg { text-align: center; padding: 20px; color: #888; }
.status-dot-table { width: 12px; height: 12px; border-radius: 50%; display: inline-block; }
.status-dot-table.red { background-color: var(--primary-red); }
.status-dot-table.green { background-color: var(--primary-green); }

/* Voting Page */
#voter-info-card { display: flex; align-items: center; gap: 15px; background-color: #e9e9e9; padding: 10px 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #ddd; }
#voter-info-card img { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; border: 2px solid white; }
#voter-info-card .info-text p { margin: 0; font-size: 13px; color: #555; }
#voter-info-card .info-text p strong { font-size: 16px; color: #000; }
.voting-actions-container { padding: 20px; display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #ddd; margin-top: 20px; }

/* Result Page */
.result-card { padding-bottom: 20px !important; }
.percentage-label { font-size: 18px; font-weight: 600; color: var(--primary-blue); margin: 10px 0 5px 0; }
.vote-count { font-size: 13px; color: #666; margin-top: 8px; }
.progress-bar { height: 20px; background-color: #e0e0e0; border-radius: 10px; overflow: hidden; margin-top: 5px; }
.progress-bar-fill { height: 100%; background-color: var(--primary-green); width: 0%; transition: width 0.5s ease-in-out; }

/* General Layouts */
.page-footer-actions { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border-color); display: flex; justify-content: flex-end; gap: 10px; flex-shrink: 0; }
.content-center { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; height: 100%; }
.content-center .page-footer-actions { position: absolute; bottom: 0; left: 0; right: 0; width: 100%; box-sizing: border-box; padding: 20px; border-top: none; justify-content: center; }
#guest-result-container { text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border-color); }

/* Modal & Loader */
.modal-overlay, #loader-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.6); display: flex; justify-content: center; align-items: center; z-index: 2000; }
.modal-content { background: var(--window-bg); padding: 25px; border-radius: 12px; min-width: 300px; max-width: 500px; box-shadow: 0 5px 15px rgba(0,0,0,0.3); text-align: center; position: relative; z-index: 2001;}
.modal-content h3 { margin-top: 0; }
.button-container { display: flex; gap: 10px; justify-content: center; margin-top: 10px; }
.modal-content .timestamp { position: absolute; bottom: 5px; right: 10px; font-size: 11px; color: #999; }
#activity { background-color: #595959; border-radius: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; font-family: Helvetica, sans-serif; font-size: 12px; color: white; margin: 0 auto; width: 130px; height: 130px; }
.indicator { position: relative; width: 1px; height: 70px; }
.segment { width: 4px; height: 14px; border-radius: 2px; background-color: #808080; position: absolute; left: -2px; top: 0; transform-origin: 50% 28px; animation: throbber 1.5s linear infinite; }
@keyframes throbber { 0% { background-color: white } 100% { background-color: #808080 } }
.segment:nth-child(1) { transform: rotate(0deg); animation-delay: -1.375s; }
.segment:nth-child(2) { transform: rotate(30deg); animation-delay: -1.25s; }
.segment:nth-child(3) { transform: rotate(60deg); animation-delay: -1.125s; }
.segment:nth-child(4) { transform: rotate(90deg); animation-delay: -1.0s; }
.segment:nth-child(5) { transform: rotate(120deg); animation-delay: -0.875s; }
.segment:nth-child(6) { transform: rotate(150deg); animation-delay: -0.75s; }
.segment:nth-child(7) { transform: rotate(180deg); animation-delay: -0.625s; }
.segment:nth-child(8) { transform: rotate(210deg); animation-delay: -0.5s; }
.segment:nth-child(9) { transform: rotate(240deg); animation-delay: -0.375s; }
.segment:nth-child(10) { transform: rotate(270deg); animation-delay: -0.25s; }
.segment:nth-child(11) { transform: rotate(300deg); animation-delay: -0.125s; }
.segment:nth-child(12) { transform: rotate(330deg); animation-delay: 0s; }
